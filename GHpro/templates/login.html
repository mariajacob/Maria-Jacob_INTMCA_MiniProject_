{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html>
<head>
  <title>LOGIN</title>
  <!-- Add Bootstrap CSS link -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <style>
   
    h1{
      margin-top: 10px;
      text-align: center;
      color: rgb(0, 0, 0);
      font-size: 30px;
      color:blue;
     }
     .container {
      padding: 10px;
     border-radius: 10px;
     position: absolute;
     top: 20%;
     left: 10%;
     transform: translate(-10%, -10%);
      
       }
     .image-container {
     
     background-size: cover;
     min-height: 100vh;
     display: flex;
     align-items: center;
     justify-content: center;
   }
 
   .form-container {
     
     background-color: rgba(231, 171, 171, 0.845);
       padding-right: 50px;
       padding-left: 50px;
       border-radius: 30px;
       max-width: 550px;
       padding-bottom: 30px;
   }
   .image-container img {
     max-width: 100%;
     height: auto;
     display: block;
   }
   .btn-primary {
     width: 100%; 
     height: 50px;
     background-color: blue; 
     border-color: black; 
     color:white;
     font-family: 'Times New Roman', Times, serif;
 }
 
 .btn-primary:hover {
     background-color: white; 
     border-color: darkgreen; 
     color:black;
   
 }
 .btn-primary1 {
   width: 100%;
   height: 50px;
   background-color: black;
   border-color: black;
   color: black;
   font-family: 'Times New Roman', Times, serif;
   font-size: 20px;
   position: relative;
   padding-left: 40px; /* Adjust as needed */
   background-image: url('{% static 'images/google.png' %}');
   background-size: 24px; /* Adjust the size of the Google image */
   background-repeat: no-repeat;
   background-position: 10px center; /* Adjust the position of the Google image */
 }
 
 .btn-primary1:hover {
   background-color:white; 
   border-color: darkgreen; 
   color:white;
 
 }
 .form-control {
   height: 50px; /* Set the desired height */
   width: 100%; /* Set the width to span the container */
 }
 .form-group label {
   font-size:20px; 
   font-family: 'Times New Roman', Times, serif;
   
 }
 pre {
     font-size: 18px; /* Set the desired font size */
     color: purple; /* Set the desired text color */
     /* Add any other styling you want for the <pre> tag */
 }
 pre a {
   font-size: 18px; /* Set the desired font size */
   color: red; /* Set the desired text color */
   /* Add any other styling you want for the link inside <pre> */
 }
 
.line{
     position: relative;
     height: 1px;
     width: 100%;
     margin: 36px 0;
     background-color: #d4d4d4;
 }
 .line::before{
     content: 'Or';
     position: absolute;
     top: 50%;
     left: 50%;
     transform: translate(-50%, -50%);
     background-color: #FFF;
     color: #8b8b8b;
     padding: 0 15px;
 }
 </style>
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-6 image-container">
        <img src="https://media.istockphoto.com/id/1184108166/vector/nursing-home-hospital-hospice-concept.jpg?s=612x612&w=0&k=20&c=5BMqSuGN2oUVLEeA9J-v8HC8n74U9uoImMQAHlZ3BFI=">
      </div>
      <div class="col-md-6">
        <div class="container form-container mt-5">
          <h1>Login Form</h1>
          {% for messages in messages %}
                <h3 style="color: red">{{ messages }}</h3>
                {% endfor %}
            <form action="#" method="post" id="registrationForm" autocomplete="off">
              {% csrf_token %}
            <div class="form-group">
              <label for="email">Email:</label>
              <input type="text" class="form-control" id="email" name="email" required>
              <small id="emailError" class="form-text text-danger"></small>
            </div>
           <div class="form-group">
              <label for="password">Password:</label>
              <input type="password" class="form-control" id="password" name="password" required>
              <small id="passwordError" class="form-text text-danger"></small>
            </div>
            <br><button type="submit" id="login" class="btn btn-primary" id="submit">LOGIN</button>
            <pre>Don't have an account? <a href="{% url 'register' %}" >Signup</a></pre>
          </form>
          {% comment %} <div>
            <form action="{% url 'password_reset' %}" method="post">
            {% csrf_token %}
            <div class="form-group">
                <a href="{% url 'password_reset' %}" class="forgot-password">Forgot Password?</a>
            </div>
        </form>
        <div class="line"></div> {% endcomment %}

        
      </button>
      <button type="submit" class="btn btn-primary1">
        <a href="{% provider_login_url 'google' %}?next=/">
                  <span class="google-button-content">
                    Sign in with Google
                  </span>
                </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Bootstrap JS and jQuery scripts -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> 
  <script>
    const registrationForm = document.getElementById('registrationForm'); 
    const emailInput = document.getElementById('email');
    {% comment %} const phoneNumberInput = document.getElementById('phoneNumber'); {% endcomment %}
    const passwordInput = document.getElementById('password');
    function validateEmail() {
      const emailValue = emailInput.value;
      const emailError = document.getElementById('emailError');
      
      if (!/^\S+@\S+(\.\S+)?$/.test(emailValue)) {
        emailError.textContent = 'Enter a valid email address with an optional period (".").';
        return false;
      } else {
        emailError.textContent = '';
        return true;
      }
    }
  
    function validatePassword() {
      const passwordValue = passwordInput.value;
      const passwordError = document.getElementById('passwordError');
      
      if (!/(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*\W).{8,}/.test(passwordValue)) {
        passwordError.textContent = 'Password should contain at least 8 characters, one uppercase letter, one lowercase letter, one number, and one special character.';
        return false;
      } else {
        passwordError.textContent = '';
        return true;
      }
    }  
    emailInput.addEventListener('keyup', validateEmail);
    passwordInput.addEventListener('keyup', validatePassword);
    confirmPasswordInput.addEventListener('keyup', validateConfirmPassword);
    registrationForm.addEventListener('submit', function(event) {
     // const isUsernameValid = validateUsername();
      const isEmailValid = validateEmail();
     // const isPhoneNumberValid = validatePhoneNumber();
      const isPasswordValid = validatePassword();
      const isConfirmPasswordValid = validateConfirmPassword();

      if (!isEmailValid ||  !isPasswordValid || !isConfirmPasswordValid) {
        event.preventDefault();
      }
    });
  </script>
</body>
</html>